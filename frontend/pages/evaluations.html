<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Suivi des évaluations - Stagiaires</title>

  <!-- Bootstrap & Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Styles personnalisés -->
  <link rel="stylesheet" href="../styles/vueensemble.css">
  <link rel="stylesheet" href="../styles/tuteurs.css">
  <link rel="stylesheet" href="../styles/evaluations.css">
</head>
<body>

  <!-- NAVBAR PRINCIPALE -->
  <div class="header-container">
    <nav class="navbar navbar-expand-lg navbar-custom">
      <div class="container">
        <div class="collapse navbar-collapse justify-content-center">
          <ul class="navbar-nav">
            <li class="nav-item nav-item1 mx-1 ">
              <a class="nav-link text-white d-flex align-items-center " href="statistiques.html">
                <i class="bi bi-bar-chart-line-fill me-2 text-white"></i> Dashboard
              </a>
            </li>
            <li class="nav-item nav-item1 mx-1 ">
              <a class="nav-link text-white d-flex align-items-center " href="tuteurs.html">
                <i class="bi bi-people-fill me-2"></i> Tuteurs
              </a>
            </li>
            <li class="nav-item nav-item1 mx-1 active active1">
              <a class="nav-link text-white d-flex align-items-center" href="stagiaires.html">
                <i class="bi bi-person-lines-fill me-2"></i> Stagiaires
              </a>
            </li>
            <li class="nav-item nav-item1 mx-1">
              <a class="nav-link text-white d-flex align-items-center" href="historique.html">
                <i class="bi bi-clock-history me-2"></i> Historiques
              </a>
            </li>
            <li class="nav-item nav-item1 mx-1">
              <a class="nav-link text-white d-flex align-items-center" href="pagedeconnexion.html">
                <i class="bi bi-box-arrow-right me-2"></i> Déconnexion
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </div>

  <!-- NAVBAR SECONDAIRE -->
  <div style="margin-top: 70px;" class="navbar1">
    <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom mt-2">
      <div class="container">
        <ul class="navbar-nav mx-auto">
          <li class="nav-item nav-item2">
            <a class="nav-link " href="stagiaires.html" aria-current="page">Générale</a>
          </li>
          <li class="nav-item nav-item2">
            <a class="nav-link active" href="evaluations.html">Evaluations</a>
          </li>
         
        </ul>
      </div>
    </nav>
  </div>
  <!-- Barre de recherche et filtres -->
<div class="container mt-3 ol-md-4">
 <div class="row g-2 align-items-center">

  <!-- Recherche par nom -->
  <div class="col-md-3">
    <input type="text" id="searchInput" class="form-control" placeholder="Rechercher un stagiaire...">
  </div>

  <!-- Filtre par note -->
  <div class="col-md-3">
    <select id="noteFilter" class="form-select">
      <option value="">Filtrer par note</option>
      <option value="asc">Note croissante</option>
      <option value="desc">Note décroissante</option>
    </select>
  </div>

  <!-- Filtre par service -->
  <div class="col-md-3">
    <select id="serviceFilter" class="form-select">
      <option value="">Filtrer par service</option>
      <!-- Rempli dynamiquement -->
    </select>
  </div>

  <!-- Filtre par année -->
  <div class="col-md-3">
    <select id="anneeFilter" class="form-select">
      <option value="">Filtrer par année</option>
      <!-- Rempli dynamiquement -->
    </select>
  </div>

</div>
</div>

  <!-- Tableau des évaluations -->
  <table id="evaluationsTable">
    <thead>
       <tr>
    <th>Nom du stagiaire</th>
    <th>Service</th>
    <th>Note / 20</th>
    <th>Commentaires</th>
    <th>Action</th>
  </tr>
    </thead>
    <tbody></tbody>
  </table>

  <!-- Formulaire -->
  <!-- Modale formulaire Ajouter / Modifier évaluation -->
<div id="formModal" class="modal" style="display: none;">
  <div class="modal-content">
    <h3 id="modalTitle">Modifier une évaluation</h3>
    <form id="evaluationForm">
      <input type="hidden" id="stagiaireId" name="stagiaire_id" />

      <label for="note">Note sur 20 *</label>
      <input type="number" id="note" name="note" min="0" max="20" required />

      <label for="commentaire">Commentaires *</label>
      <textarea id="commentaire" name="commentaire" required></textarea>

      <label for="ameliorations">Améliorations suggérées</label>
      <textarea id="ameliorations" name="ameliorations"></textarea>

      <div class="error text-danger mt-2" id="formError"></div>

      <div class="form-buttons mt-3">
        <button type="button" id="cancelBtn" class="btn btn-secondary">Annuler</button>
        <button type="submit" id="saveBtn" class="btn btn-success">Enregistrer</button>
      </div>
    </form>
  </div>
</div>


  <script src="../js/evaluations.js"></script>
  <script src="../js/stagiaires.js"></script>
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
